<div class="sf-container">
  <!-- Header -->
  <header class="sf-header">
    <h1 class="sf-title">Sai Fashions</h1>
    <p class="sf-subtitle">Quickly click & create product label</p>
  </header>

  <!-- Camera input -->
  <div class="sf-camera">
    <button class="sf-camera-btn" (click)="onCameraClick(cameraInput)">üì∏ Take Photo</button>
    <input
      #cameraInput
      type="file"
      accept="image/*"
      capture="environment"
      (change)="onFileSelected($event)"
      hidden
    >
  </div>

  <!-- Form for details -->
  <div class="sf-form">
    <!-- Price -->
    <input
      [(ngModel)]="price"
      placeholder="Price (e.g. ‚Çπ499)"
    >

    <!-- Size with autocomplete -->
    <div class="sf-autocomplete" (mouseleave)="hideSuggestions()">
      <input
        [(ngModel)]="size"
        placeholder="Size (e.g. M/L/XL)"
        (input)="filterSizes()"
        (focus)="filterSizes()"
        autocomplete="off"
      >
      <ul *ngIf="showSuggestions && filteredSizes.length > 0">
        <li *ngFor="let option of filteredSizes" (mousedown)="selectSize(option)">
          {{ option }}
        </li>
      </ul>
    </div>

    <!-- Description -->
    <textarea
      [(ngModel)]="desc"
      rows="2"
      placeholder="One-line description (e.g. Cotton kurta)"
    ></textarea>

    <!-- Generate button -->
    <button
      class="sf-generate-btn"
      (click)="generateImage()"
      [disabled]="isLoading"
    >
      {{ isLoading ? 'Processing‚Ä¶' : 'Generate & Download' }}
    </button>
  </div>

  <!-- Image Cropper Section -->
  <div *ngIf="imageChangedEvent && !croppedImage" class="sf-cropper-box">
    <image-cropper
      [imageChangedEvent]="imageChangedEvent"
      [maintainAspectRatio]="false"
      format="png"
      (imageCropped)="onImageCropped($event)">
    </image-cropper>

    <button class="sf-generate-btn" (click)="confirmCrop()">‚úÖ Confirm Crop</button>
    <button class="sf-generate-btn" (click)="cancelCrop()">‚ùå Cancel</button>
  </div>

  <!-- Cropped Preview -->
  <img
    *ngIf="croppedImage"
    [src]="croppedImage"
    alt="Cropped preview"
    class="sf-preview"
  >

  <!-- Footer -->
  <footer class="sf-footer">
    <p>Developed By: Sahil Dhanwani</p>
  </footer>
</div>